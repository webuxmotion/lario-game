{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/img/background.png","webpack:///./src/img/block.png","webpack:///./src/img/blockTri.png","webpack:///./src/img/blocks.png","webpack:///./src/img/hills.png","webpack:///./src/img/platform.png","webpack:///./src/img/spriteFireFlower.png","webpack:///./src/img/spriteFireFlowerJumpLeft.png","webpack:///./src/img/spriteFireFlowerJumpRight.png","webpack:///./src/img/spriteFireFlowerRunLeft.png","webpack:///./src/img/spriteFireFlowerRunRight.png","webpack:///./src/img/spriteFireFlowerStandLeft.png","webpack:///./src/img/spriteFireFlowerStandRight.png","webpack:///./src/img/spriteGoomba.png","webpack:///./src/img/spriteMarioJumpLeft.png","webpack:///./src/img/spriteMarioJumpRight.png","webpack:///./src/img/spriteMarioRunLeft.png","webpack:///./src/img/spriteMarioRunRight.png","webpack:///./src/img/spriteMarioStandLeft.png","webpack:///./src/img/spriteMarioStandRight.png","webpack:///./src/js/Block.js","webpack:///./src/js/Flower.js","webpack:///./src/js/GenericObject.js","webpack:///./src/js/Goomba.js","webpack:///./src/js/Particle.js","webpack:///./src/js/Player.js","webpack:///./src/js/canvas.js","webpack:///./src/js/getFlowers.js","webpack:///./src/js/getGoombas.js","webpack:///./src/js/getPlatforms.js","webpack:///./src/js/images.js","webpack:///./src/js/utils.js"],"names":["Block","params","image","images","blocks","width","height","c","drawImage","position","x","y","GenericObject","sizes","Flower","velocity","flower","frames","draw","isAboveTheBottom","gravity","getBaseY","canvas","block","text","fillStyle","fillText","Goomba","distanceLimit","goomba","distanceTraveled","Math","abs","Particle","radius","fireball","color","ttl","beginPath","arc","PI","fill","closePath","Player","frameWidth","frameHeight","scale","jumpVelocity","speed","powerUps","fireFlower","spriteMarioStandRight","sprites","stand","right","left","spriteMarioStandLeft","spriteFireFlowerStandRight","spriteFireFlowerStandLeft","run","spriteMarioRunRight","spriteMarioRunLeft","spriteFireFlowerRunRight","spriteFireFlowerRunLeft","jump","spriteMarioJumpRight","spriteMarioJumpLeft","spriteFireFlowerJumpRight","spriteFireFlowerJumpLeft","currentSprite","currentCropWidth","invincible","opacity","save","globalAlpha","restore","document","getElementById","getContext","innerWidth","innerHeight","backgroundSpeed","lastKey","player","platforms","background","background2","hills","genericObjects","goombas","flowers","particles","scrollOffset","keys","pressed","init","getGoombas","getPlatforms","getFlowers","animate","requestAnimationFrame","clearRect","forEach","object","update","index","objectsTouch","object1","object2","setTimeout","splice","platform","filter","particle","particleIndex","generateExplosion","collisitionTop","hitSide","i","length","hitSideOfPlatform","el","isOnTopOfPlatform","hitBottomOfPlatform","isCircleOnTopOfPlatform","lastPlatformX","console","log","spriteRunRight","spriteRunLeft","spriteStandRight","spriteStandLeft","window","onload","addEventListener","code","spriteJumpRight","spriteJumpLeft","push","blockTri","createImage","platformSrc","hillsSrc","backgroundSrc","require","randomIntFromRange","min","max","floor","random","randomColor","colors","distance","x1","y1","x2","y2","xDist","yDist","sqrt","pow","imageSrc","Image","src","module","exports"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","export default __webpack_public_path__ + \"072d51bcc9c09311d4c2a6708b05bddc.png\";","export default __webpack_public_path__ + \"fac88169424b827f4bbca82bd7a01a9f.png\";","export default __webpack_public_path__ + \"0f732b622c2a2a256940ec159c5a7941.png\";","export default __webpack_public_path__ + \"de79d2254470fe6520b40c4a4a152075.png\";","export default __webpack_public_path__ + \"cfffe4c371f5e11d372b398a87c51dd0.png\";","export default __webpack_public_path__ + \"ffab39d3487de561be1a081fcfb3806d.png\";","export default __webpack_public_path__ + \"434554c25d0262d9ae16c700febfa462.png\";","export default __webpack_public_path__ + \"fe7f83abbc33795c55d5bbab3ab117f3.png\";","export default __webpack_public_path__ + \"b5b7bdebff9886acfe07b077e9357d84.png\";","export default __webpack_public_path__ + \"dac857eaeda937793a54db5301b14e46.png\";","export default __webpack_public_path__ + \"c957f14ac99dfa4f90a424a042a43e7b.png\";","export default __webpack_public_path__ + \"0d2de9eb02bbc291f7d436447db7fe30.png\";","export default __webpack_public_path__ + \"6b3fe854152c472eecf59c9dbe571eba.png\";","export default __webpack_public_path__ + \"a1de12fbeda5f4cadc1c0cec27c01014.png\";","export default __webpack_public_path__ + \"79a87181aec94b5e1d21942963ebe634.png\";","export default __webpack_public_path__ + \"ffdd5958ac8fc0192de1a8855d128203.png\";","export default __webpack_public_path__ + \"bd67564ba49a9b4944f1ac5c812adc9d.png\";","export default __webpack_public_path__ + \"0a0b6df309febe5e8b6c74c066c6a08e.png\";","export default __webpack_public_path__ + \"2872668f52970b728cf95b2631d20911.png\";","export default __webpack_public_path__ + \"0c6fecf727c918f37db411c979a9bf05.png\";","import GenericObject from \"./GenericObject\";\nimport images from \"./images\";\n\nclass Block extends GenericObject {\n  constructor(params) {\n    super({ image: images.blocks, ...params });\n    \n    this.width = 78;\n    this.height = 79;\n  }\n\n  draw({ c }) {\n    c.drawImage(\n      this.image,\n      183,\n      17,\n      78,\n      79,\n      this.position.x, \n      this.position.y,\n      78,\n      79,\n    );\n  }\n}\n\nBlock.sizes = {\n  width: 78,\n  height: 79,\n}\n\nexport default Block;","import { gravity } from \"./canvas\";\nimport images from \"./images\";\n\nclass Flower {\n  constructor({ position, velocity }) {\n    this.position = {\n      x: position.x,\n      y: position.y,\n    }\n    this.velocity = {\n      x: velocity.x,\n      y: velocity.y,\n    }\n\n    this.width = 43;\n    this.height = 50;\n    this.image = images.flower;\n    this.frames = 0;\n  }\n\n  draw({ c }) {\n    c.drawImage(\n      this.image,\n      56 * this.frames,\n      0,\n      56,\n      60,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    );\n  }\n\n  update({ c }) {\n    this.frames++;\n    if (this.frames >= 75) {\n      this.frames = 0;\n    }\n    this.draw({ c });\n    this.position.x += this.velocity.x;\n    this.position.y += this.velocity.y;\n\n    // gravity\n    if (this.isAboveTheBottom()) {\n      this.velocity.y += gravity;\n    }\n  }\n\n  isAboveTheBottom() {\n    return this.getBaseY() <= canvas.height;\n  }\n\n  getBaseY() {\n    return this.position.y + this.height + this.velocity.y;\n  }\n}\n\nexport default Flower;","class GenericObject {\n  constructor({ x, y, image, block, text }) {\n    this.position = {\n      x,\n      y,\n    };\n    this.velocity = {\n      x: 0\n    };\n    this.image = image;\n    this.width = this.image.width;\n    this.height = this.image.height;\n    this.block = block;\n    this.text = text;\n  }\n\n  draw({ c }) {\n    c.drawImage(this.image, this.position.x, this.position.y);\n\n    if (this.text) {\n      c.fillStyle = 'red';\n      c.fillText('sdfsdf', this.position.x, this.position.y);\n    }\n  }\n\n  update({ c }) {\n    this.draw({ c });\n    this.position.x += this.velocity.x;\n  }\n}\n\nexport default GenericObject;","import { gravity } from \"./canvas\";\nimport images from \"./images\";\n\nclass Goomba {\n  constructor({ position, velocity, distanceLimit = 50 }) {\n    this.position = {\n      x: position.x,\n      y: position.y,\n    }\n    this.velocity = {\n      x: velocity.x,\n      y: velocity.y,\n    }\n\n    this.width = 43;\n    this.height = 50;\n    this.image = images.goomba;\n    this.frames = 0;\n\n    this.distanceLimit = distanceLimit;\n    this.distanceTraveled = 0;\n  }\n\n  draw({ c }) {\n    c.drawImage(\n      this.image,\n      130 * this.frames,\n      0,\n      130,\n      150,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    );\n  }\n\n  update({ c }) {\n    this.frames++;\n    if (this.frames >= 58) {\n      this.frames = 0;\n    }\n    this.draw({ c });\n    this.position.x += this.velocity.x;\n    this.position.y += this.velocity.y;\n\n    // gravity\n    if (this.isAboveTheBottom()) {\n      this.velocity.y += gravity;\n    }\n\n    // walk the goomba back and forth\n    this.distanceTraveled += Math.abs(this.velocity.x);\n\n    if (this.distanceTraveled > this.distanceLimit) {\n      this.distanceTraveled = 0;\n      this.velocity.x = -this.velocity.x;\n    }\n  }\n\n  isAboveTheBottom() {\n    return this.getBaseY() <= canvas.height;\n  }\n\n  getBaseY() {\n    return this.position.y + this.height + this.velocity.y;\n  }\n}\n\nexport default Goomba;","import { gravity } from \"./canvas\";\n\nclass Particle {\n  constructor({\n    position,\n    velocity,\n    radius,\n    fireball,\n    color = \"#654428\",\n  }) {\n    this.position = {\n      x: position.x,\n      y: position.y,\n    };\n    this.velocity = {\n      x: velocity.x,\n      y: velocity.y,\n    }\n    this.radius = radius;\n    this.ttl = 300;\n    this.color = color;\n    this.fireball = fireball;\n  }\n\n  draw({ c }) {\n    c.beginPath();\n    c.arc(\n      this.position.x,\n      this.position.y,\n      this.radius,\n      0,\n      Math.PI * 2,\n      false\n    );\n    c.fillStyle = this.color;\n    c.fill();\n    c.closePath();\n  }\n\n  update({ c }) {\n    this.draw({ c });\n    this.position.x += this.velocity.x;\n    this.position.y += this.velocity.y;\n\n    // gravity\n    if (this.isAboveTheBottom()) {\n      this.velocity.y += gravity * 0.1;\n    }\n\n    this.ttl--;\n  }\n\n  isAboveTheBottom() {\n    return this.getBaseY() <= canvas.height;\n  }\n\n  getBaseY() {\n    return this.position.y + this.radius + this.velocity.y;\n  }\n}\n\nexport default Particle;","import { gravity } from \"./canvas\";\nimport images from \"./images\";\n\nclass Player {\n  constructor() {\n    this.position = {\n      x: 100,\n      y: canvas.height - 700,\n    };\n    this.velocity = {\n      x: 0,\n      y: 20,\n    };\n    this.frameWidth = 398;\n    this.frameHeight = 353;\n    this.scale = 0.3;\n    this.width = this.frameWidth * this.scale;\n    this.height = this.frameHeight * this.scale;\n    this.jumpVelocity = 30;\n    this.speed = 10;\n    this.powerUps = {\n      fireFlower: false\n    }\n    this.image = images.spriteMarioStandRight;\n    this.frames = 0;\n    this.sprites = {\n      stand: {\n        right: images.spriteMarioStandRight,\n        left: images.spriteMarioStandLeft,\n        fireFlower: {\n          right: images.spriteFireFlowerStandRight,\n          left: images.spriteFireFlowerStandLeft,\n        }\n      },\n      run: {\n        right: images.spriteMarioRunRight,\n        left: images.spriteMarioRunLeft,\n        fireFlower: {\n          right: images.spriteFireFlowerRunRight,\n          left: images.spriteFireFlowerRunLeft,\n        }\n      },\n      jump: {\n        right: images.spriteMarioJumpRight,\n        left: images.spriteMarioJumpLeft,\n        fireFlower: {\n          right: images.spriteFireFlowerJumpRight,\n          left: images.spriteFireFlowerJumpLeft,\n        }\n      }\n    }\n    this.currentSprite = this.sprites.stand.right;\n    this.currentCropWidth = this.frameWidth;\n    this.invincible = false;\n    this.opacity = 1;\n  }\n\n  draw({ c }) {\n    c.save();\n    c.globalAlpha = this.opacity;\n    c.drawImage(\n      this.currentSprite,\n      this.currentCropWidth * this.frames,\n      0,\n      this.currentCropWidth,\n      this.frameHeight,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height\n    );\n    c.restore();\n  }\n\n  update({ c }) {\n    this.frames++;\n\n    if (\n      (this.currentSprite === this.sprites.stand.right ||\n      this.currentSprite === this.sprites.stand.left ||\n      this.currentSprite === this.sprites.stand.fireFlower.right ||\n      this.currentSprite === this.sprites.stand.fireFlower.left)\n    ) {\n      this.frames = 0;\n    } else if (\n      this.frames > 28 && \n      (this.currentSprite === this.sprites.run.right ||\n      this.currentSprite === this.sprites.run.left ||\n      this.currentSprite === this.sprites.run.fireFlower.right ||\n      this.currentSprite === this.sprites.run.fireFlower.left)\n    ) {\n      this.frames = 0;\n    } else if (\n      this.currentSprite === this.sprites.jump.right ||\n      this.currentSprite === this.sprites.jump.left ||\n      this.currentSprite === this.sprites.jump.fireFlower.right ||\n      this.currentSprite === this.sprites.jump.fireFlower.left\n    ) {\n      this.frames = 0;\n    }\n    this.draw({ c });\n    this.position.x += this.velocity.x;\n    this.position.y += this.velocity.y;\n\n    // gravity\n    if (this.isAboveTheBottom()) {\n      this.velocity.y += gravity;\n    }\n\n    if (this.invincible) {\n      if (this.opacity === 1) {\n        this.opacity = 0;\n      } else {\n        this.opacity = 1;\n      }\n    } else {\n      this.opacity = 1;\n    }\n  }\n\n  isAboveTheBottom() {\n    return this.getBaseY() <= canvas.height;\n  }\n\n  getBaseY() {\n    return this.position.y + this.height + this.velocity.y;\n  }\n}\n\nexport default Player;","import getGoombas from \"./getGoombas\";\nimport GenericObject from \"./GenericObject\";\nimport Player from \"./Player\";\nimport images from \"./images\";\nimport getPlatforms from \"./getPlatforms\";\nimport Particle from \"./Particle\";\nimport {\n  collisitionTop,\n  generateExplosion,\n  hitBottomOfPlatform,\n  hitSideOfPlatform,\n  isCircleOnTopOfPlatform,\n  isOnTopOfPlatform,\n  objectsTouch,\n} from \"./utils\";\nimport getFlowers from \"./getFlowers\";\n\nconst canvas = document.getElementById(\"canvas\");\nconst c = canvas.getContext(\"2d\");\ncanvas.width = innerWidth;\ncanvas.height = innerHeight;\nexport const gravity = 1.4;\nconst backgroundSpeed = 5;\nlet lastKey;\nlet player = new Player();\nlet platforms;\nlet background;\nlet background2;\nlet hills;\nlet genericObjects = [background, background2, hills];\nlet goombas = [];\nlet flowers = [];\nlet particles = [];\nlet scrollOffset = 0;\nconst keys = {\n  right: {\n    pressed: false,\n  },\n  left: {\n    pressed: false,\n  },\n};\n\nfunction init() {\n  player = new Player();\n  goombas = getGoombas();\n  particles = [];\n  platforms = getPlatforms();\n  flowers = getFlowers();\n  background = new GenericObject({\n    x: -1,\n    y: -1,\n    image: images.background,\n  });\n  background2 = new GenericObject({\n    x: -1,\n    y: images.background.height - 3,\n    image: images.background,\n  });\n  hills = new GenericObject({\n    x: -1,\n    y: canvas.height - images.hills.height + 10,\n    image: images.hills,\n  });\n  genericObjects = [background, background2, hills];\n\n  scrollOffset = 0;\n  lastKey = \"right\";\n}\n\nfunction animate() {\n  requestAnimationFrame(animate);\n  c.clearRect(0, 0, canvas.width, canvas.height);\n  genericObjects.forEach((object) => {\n    object.update({ c });\n    object.velocity.x = 0;\n  });\n  flowers.forEach((flower, index) => {\n    if (\n      objectsTouch({\n        object1: player,\n        object2: flower,\n      })\n    ) {\n      player.powerUps.fireFlower = true;\n      setTimeout(() => {\n        flowers.splice(index, 1);\n      }, 0);\n    } else {\n      flower.update({ c });\n    }\n  });\n  platforms.forEach((platform) => {\n    platform.update({ c });\n    platform.velocity.x = 0;\n  });\n  goombas.forEach((goomba, index) => {\n    goomba.update({ c });\n\n    // remove goomba on fireball hit\n    particles\n      .filter((particle) => particle.fireball)\n      .forEach((particle, particleIndex) => {\n        if (\n          particle.position.x + particle.radius >= goomba.position.x &&\n          particle.position.x - particle.radius <=\n            goomba.position.x + goomba.width &&\n          particle.position.y + particle.radius >= goomba.position.y &&\n          particle.position.y - particle.radius <=\n            goomba.position.y + goomba.height\n        ) {\n          generateExplosion({\n            particles,\n            object: goomba,\n          });\n\n          setTimeout(() => {\n            goombas.splice(index, 1);\n            particles.splice(particleIndex, 1);\n          }, 0);\n        }\n      });\n\n    if (collisitionTop({ object1: player, object2: goomba })) {\n      player.velocity.y = -20;\n\n      setTimeout(() => {\n        generateExplosion({\n          particles,\n          object: goomba,\n        });\n\n        goombas.splice(index, 1);\n      }, 0);\n    } else if (\n      player.position.x + player.width >= goomba.position.x &&\n      player.position.y + player.height >= goomba.position.y &&\n      player.position.x <= goomba.position.x + goomba.width &&\n      player.position.y <= goomba.position.y + goomba.height\n    ) {\n      // player hits goomba\n      if (player.powerUps.fireFlower) {\n        player.invincible = true;\n        player.powerUps.fireFlower = false;\n\n        setTimeout(() => {\n          player.invincible = false;\n        }, 1000);\n      }\n      if (!player.invincible) {\n        init();\n      }\n    }\n  });\n  particles.forEach((particle, index) => {\n    particle.update({ c });\n\n    if (\n      particle.fireball && (\n        particle.position.x + particle.radius >= canvas.width ||\n        particle.position.x - particle.radius <= 0\n      )\n    ) {\n      setTimeout(() => {\n        particles.splice(index, 1);\n      }, 0);\n    }\n  });\n  \n  player.update({ c });\n\n  let hitSide = false;\n\n  if (\n    keys.right.pressed &&\n    player.position.x + player.width < canvas.width / 2\n  ) {\n    player.velocity.x = player.speed;\n  } else if (\n    (keys.left.pressed && player.position.x > 200) ||\n    (keys.left.pressed && scrollOffset === 0 && player.position.x > 0)\n  ) {\n    player.velocity.x = -player.speed;\n  } else {\n    player.velocity.x = 0;\n\n    // scrolling code\n    if (keys.right.pressed) {\n      for (let i = 0; i < platforms.length; i++) {\n        const platform = platforms[i];\n        platform.velocity.x = -player.speed;\n\n        if (platform.block && hitSideOfPlatform({ object: player, platform })) {\n          platforms.forEach((el) => {\n            el.velocity.x = 0;\n          });\n          hitSide = true;\n          break;\n        }\n      }\n\n      if (!hitSide) {\n        scrollOffset += player.speed;\n\n        genericObjects.forEach((object) => {\n          object.velocity.x = -backgroundSpeed;\n        });\n        goombas.forEach((goomba) => {\n          goomba.position.x -= player.speed;\n        });\n        flowers.forEach((flower) => {\n          flower.position.x -= player.speed;\n        });\n        particles.forEach((particle) => {\n          particle.position.x -= player.speed;\n        });\n      }\n    } else if (keys.left.pressed && scrollOffset > 0) {\n      for (let i = 0; i < platforms.length; i++) {\n        const platform = platforms[i];\n        platform.velocity.x = player.speed;\n\n        if (platform.block && hitSideOfPlatform({ object: player, platform })) {\n          platforms.forEach((el) => {\n            el.velocity.x = 0;\n          });\n          hitSide = true;\n          break;\n        }\n      }\n\n      if (!hitSide) {\n        scrollOffset -= player.speed;\n\n        genericObjects.forEach((object) => {\n          object.velocity.x = backgroundSpeed;\n        });\n        goombas.forEach((goomba) => {\n          goomba.position.x += player.speed;\n        });\n        flowers.forEach((flower) => {\n          flower.position.x += player.speed;\n        });\n        particles.forEach((particle) => {\n          particle.position.x += player.speed;\n        });\n      }\n    }\n  }\n\n  // platform collision detection\n  platforms.forEach((platform) => {\n    if (isOnTopOfPlatform({ object: player, platform })) {\n      player.velocity.y = 0;\n    }\n\n    if (platform.block && hitBottomOfPlatform({ object: player, platform })) {\n      player.velocity.y = -player.velocity.y;\n    }\n\n    if (platform.block && hitSideOfPlatform({ object: player, platform })) {\n      player.velocity.x = 0;\n    }\n\n    particles.forEach((particle, index) => {\n      if (isCircleOnTopOfPlatform({ object: particle, platform })) {\n        particle.velocity.y = -particle.velocity.y * 0.9;\n\n        if (particle.radius - 0.8 < 0) {\n          particles.splice(index, 1);\n        } else {\n          particle.radius -= 0.8;\n        }\n      }\n\n      if (particle.ttl < 0) particles.splice(index, 1);\n    });\n\n    goombas.forEach((goomba) => {\n      if (isOnTopOfPlatform({ object: goomba, platform })) {\n        goomba.velocity.y = 0;\n      }\n    });\n\n    flowers.forEach((flower) => {\n      if (isOnTopOfPlatform({ object: flower, platform })) {\n        flower.velocity.y = 0;\n      }\n    });\n  });\n\n  const lastPlatformX = images.platform.width * 2 - 3 * 2 + 300;\n  if (scrollOffset > lastPlatformX - canvas.width / 2 + 200) {\n    console.log(\"You win\");\n  }\n\n  if (player.position.y > canvas.height) {\n    console.log(\"You lose\");\n    init();\n  }\n\n  if (player.velocity.y !== 0) return;\n\n  // sprite switching\n  let spriteRunRight;\n  let spriteRunLeft;\n  let spriteStandRight;\n  let spriteStandLeft;\n\n  if (player.powerUps.fireFlower) {\n    spriteRunRight = player.sprites.run.fireFlower.right;\n    spriteRunLeft = player.sprites.run.fireFlower.left;\n    spriteStandRight = player.sprites.stand.fireFlower.right;\n    spriteStandLeft = player.sprites.stand.fireFlower.left;\n  } else {\n    spriteRunRight = player.sprites.run.right;\n    spriteRunLeft = player.sprites.run.left;\n    spriteStandRight = player.sprites.stand.right;\n    spriteStandLeft = player.sprites.stand.left;\n  }\n\n  if (\n    keys.right.pressed &&\n    lastKey === \"right\" &&\n    player.currentSprite !== spriteRunRight\n  ) {\n    player.frames = 1;\n    player.currentSprite = spriteRunRight;\n  } else if (\n    keys.left.pressed &&\n    lastKey === \"left\" &&\n    player.currentSprite !== spriteRunLeft\n  ) {\n    player.currentSprite = spriteRunLeft;\n  } else if (\n    !keys.left.pressed &&\n    lastKey === \"left\" &&\n    player.currentSprite !== spriteStandLeft\n  ) {\n    player.currentSprite = spriteStandLeft;\n  } else if (\n    !keys.right.pressed &&\n    lastKey === \"right\" &&\n    player.currentSprite !== spriteStandRight\n  ) {\n    player.currentSprite = spriteStandRight;\n  }\n}\nwindow.onload = () => {\n  init();\n  animate();\n};\n\naddEventListener(\"keydown\", ({ code }) => {\n  switch (code) {\n    case \"ArrowLeft\":\n    case \"KeyA\":\n      keys.left.pressed = true;\n      lastKey = \"left\";\n      break;\n    case \"ArrowRight\":\n    case \"KeyD\":\n      keys.right.pressed = true;\n      lastKey = \"right\";\n      break;\n    case \"ArrowUp\":\n    case \"Space\":\n    case \"KeyW\":\n      if (player.velocity.y === 0) {\n        player.velocity.y = -player.jumpVelocity;\n      }\n\n      let spriteJumpRight;\n      let spriteJumpLeft;\n\n      if (player.powerUps.fireFlower) {\n        spriteJumpRight = player.sprites.jump.fireFlower.right;\n        spriteJumpLeft = player.sprites.jump.fireFlower.left;\n      } else {\n        spriteJumpRight = player.sprites.jump.right;\n        spriteJumpLeft = player.sprites.jump.left;\n      }\n\n      if (lastKey === \"right\") {\n        player.currentSprite = spriteJumpRight;\n      } else {\n        player.currentSprite = spriteJumpLeft;\n      }\n\n      break;\n    case \"KeyF\":\n      if (!player.powerUps.fireFlower) return;\n\n      let velocity = 15;\n\n      if (lastKey === \"left\") velocity = -velocity;\n      particles.push(\n        new Particle({\n          position: {\n            x: player.position.x + player.width / 2,\n            y: player.position.y + player.height / 2,\n          },\n          velocity: {\n            x: velocity,\n            y: 0,\n          },\n          radius: 5,\n          color: \"red\",\n          fireball: true\n        })\n      );\n      break;\n    default:\n  }\n});\n\naddEventListener(\"keyup\", ({ code }) => {\n  switch (code) {\n    case \"ArrowLeft\":\n    case \"KeyA\":\n      keys.left.pressed = false;\n      break;\n    case \"ArrowRight\":\n    case \"KeyD\":\n      keys.right.pressed = false;\n      break;\n    case \"ArrowUp\":\n    case \"Space\":\n    case \"KeyW\":\n      break;\n    default:\n  }\n});\n","import Flower from './Flower';\n\nconst getFlowers = () => {\n  return [\n    new Flower({\n      position: {\n        x: 400,\n        y: 100,\n      },\n      velocity: {\n        x: 0,\n        y: 0\n      }\n    })\n  ]\n}\n\nexport default getFlowers;","import Goomba from \"./Goomba\";\n\nconst getGoombas = () => [\n  new Goomba({\n    position: {\n      x: 600,\n      y: 200,\n    },\n    velocity: {\n      x: -0.5,\n      y: 0,\n    },\n    distanceLimit: 200\n  }),\n  new Goomba({\n    position: {\n      x: 800,\n      y: 200,\n    },\n    velocity: {\n      x: -0.5,\n      y: 0,\n    },\n    distanceLimit: 300\n  }),\n  new Goomba({\n    position: {\n      x: 1500,\n      y: 200,\n    },\n    velocity: {\n      x: -0.5,\n      y: 0,\n    },\n  }),\n];\n\nexport default getGoombas;","import Block from \"./Block\";\nimport GenericObject from \"./GenericObject\";\nimport images from \"./images\";\n\nconst getPlatforms = () => {\n  return [\n    new Block({\n      x: 400,\n      y: 400,\n    }),\n    new Block({\n      x: 400 + Block.sizes.width,\n      y: 400,\n    }),\n    new GenericObject({\n      x: 0,\n      y: canvas.height - images.platform.height,\n      image: images.platform,\n      block: true,\n    }),\n    new GenericObject({\n      x: images.platform.width - 3 + 300,\n      y: canvas.height - images.platform.height,\n      image: images.platform,\n      block: true,\n    }),\n    // the last platform\n    new GenericObject({\n      x: images.platform.width * 2 - 3 * 2 + 300,\n      y: canvas.height - images.platform.height,\n      image: images.platform,\n      block: true,\n    }),\n    new GenericObject({\n      x: 400,\n      y: canvas.height - 300,\n      image: images.platform,\n    }),\n    new GenericObject({\n      x: 600,\n      y: canvas.height - 600,\n      image: images.platform,\n    }),\n    new GenericObject({\n      x: 200,\n      y: 500,\n      image: images.blockTri,\n      block: true,\n    }),\n    new GenericObject({\n      x: 200,\n      y: 300,\n      image: images.blockTri,\n      block: true,\n    }),\n    new GenericObject({\n      x: 1300,\n      y: 300,\n      image: images.blockTri,\n      block: true,\n    }),\n  ]\n}\n\nexport default getPlatforms;","import { createImage } from './utils';\nimport platformSrc from '../img/platform.png';\nimport hillsSrc from '../img/hills.png';\nimport backgroundSrc from '../img/background.png';\nimport spriteMarioRunLeft from '../img/spriteMarioRunLeft.png';\nimport spriteMarioRunRight from '../img/spriteMarioRunRight.png';\nimport spriteMarioStandLeft from '../img/spriteMarioStandLeft.png';\nimport spriteMarioStandRight from '../img/spriteMarioStandRight.png';\nimport spriteMarioJumpLeft from '../img/spriteMarioJumpLeft.png';\nimport spriteMarioJumpRight from '../img/spriteMarioJumpRight.png';\n\nimport spriteFireFlowerRunRight from '../img/spriteFireFlowerRunRight.png'\nimport spriteFireFlowerRunLeft from '../img/spriteFireFlowerRunLeft.png'\nimport spriteFireFlowerStandRight from '../img/spriteFireFlowerStandRight.png'\nimport spriteFireFlowerStandLeft from '../img/spriteFireFlowerStandLeft.png'\nimport spriteFireFlowerJumpRight from '../img/spriteFireFlowerJumpRight.png'\nimport spriteFireFlowerJumpLeft from '../img/spriteFireFlowerJumpLeft.png'\n\nimport blocks from '../img/blocks.png';\nimport goomba from '../img/spriteGoomba.png';\nimport block from '../img/block.png';\nimport blockTri from '../img/blockTri.png';\nimport flower from '../img/spriteFireFlower.png';\n\nexport default {\n  platform: createImage(platformSrc),\n  hills: createImage(hillsSrc),\n  background: createImage(backgroundSrc),\n  spriteMarioRunLeft: createImage(spriteMarioRunLeft),\n  spriteMarioRunRight: createImage(spriteMarioRunRight),\n  spriteMarioStandLeft: createImage(spriteMarioStandLeft),\n  spriteMarioStandRight: createImage(spriteMarioStandRight),\n  spriteMarioJumpLeft: createImage(spriteMarioJumpLeft),\n  spriteMarioJumpRight: createImage(spriteMarioJumpRight),\n  spriteFireFlowerRunLeft: createImage(spriteFireFlowerRunLeft),\n  spriteFireFlowerRunRight: createImage(spriteFireFlowerRunRight),\n  spriteFireFlowerStandLeft: createImage(spriteFireFlowerStandLeft),\n  spriteFireFlowerStandRight: createImage(spriteFireFlowerStandRight),\n  spriteFireFlowerJumpLeft: createImage(spriteFireFlowerJumpLeft),\n  spriteFireFlowerJumpRight: createImage(spriteFireFlowerJumpRight),\n  blocks: createImage(blocks),\n  goomba: createImage(goomba),\n  block: createImage(block),\n  blockTri: createImage(blockTri),\n  flower: createImage(flower),\n}","const { default: Particle } = require(\"./Particle\");\n\nfunction randomIntFromRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction randomColor(colors) {\n  return colors[Math.floor(Math.random() * colors.length)];\n}\n\nfunction distance(x1, y1, x2, y2) {\n  const xDist = x2 - x1;\n  const yDist = y2 - y1;\n\n  return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n}\n\nfunction createImage(imageSrc) {\n  const image = new Image();\n  image.src = imageSrc;\n\n  return image;\n}\n\nfunction isOnTopOfPlatform({ object, platform }) {\n  return (\n    object.position.y + object.height <= platform.position.y &&\n    object.position.y + object.height + object.velocity.y >=\n      platform.position.y &&\n    object.position.x + object.width > platform.position.x &&\n    object.position.x < platform.position.x + platform.width\n  );\n}\n\nfunction isCircleOnTopOfPlatform({ object, platform }) {\n  return (\n    object.position.y + object.radius <= platform.position.y &&\n    object.position.y + object.radius + object.velocity.y >=\n      platform.position.y &&\n    object.position.x + object.radius > platform.position.x &&\n    object.position.x < platform.position.x + platform.width\n  );\n}\n\nfunction collisitionTop({ object1, object2 }) {\n  return (\n    object1.position.y + object1.height <= object2.position.y &&\n    object1.position.y + object1.height + object1.velocity.y >=\n      object2.position.y &&\n    object1.position.x + object1.width > object2.position.x &&\n    object1.position.x < object2.position.x + object2.width\n  );\n}\n\nfunction hitBottomOfPlatform({ object, platform }) {\n  return (\n    object.position.y <= platform.position.y + platform.height &&\n    object.position.y - object.velocity.y >= platform.position.y + platform.height &&\n    object.position.x + object.width >= platform.position.x &&\n    object.position.x <= platform.position.x + platform.width\n  );\n}\n\nfunction hitSideOfPlatform({ object, platform }) {\n  return (\n    object.position.x + object.width - object.velocity.x - platform.velocity.x >= platform.position.x &&\n    object.position.x + object.velocity.x <= platform.position.x + platform.width &&\n    object.position.y <= platform.position.y + platform.height &&\n    object.position.y + object.height >= platform.position.y\n  )\n}\n\nfunction objectsTouch({ object1, object2 }) {\n  return (\n    object1.position.x + object1.width >= object2.position.x &&\n    object1.position.x <= object2.position.x + object2.width &&\n    object1.position.y + object1.height >= object2.position.y &&\n    object1.position.y <= object2.position.y + object2.height\n  )\n}\n\nfunction generateExplosion({ particles, object }) {\n  for (let i = 0; i < 50; i++) {\n    particles.push(\n      new Particle({\n        position: {\n          x: object.position.x + object.width / 2,\n          y: object.position.y + object.height / 2,\n        },\n        velocity: {\n          x: (Math.random() - 0.5) * 10,\n          y: (Math.random() - 0.5) * 7,\n        },\n        radius: Math.random() * 3,\n      })\n    );\n  }\n}\n\nmodule.exports = {\n  randomIntFromRange,\n  randomColor,\n  distance,\n  createImage,\n  isOnTopOfPlatform,\n  isCircleOnTopOfPlatform,\n  collisitionTop,\n  hitBottomOfPlatform,\n  hitSideOfPlatform,\n  objectsTouch,\n  generateExplosion,\n};\n"],"sourceRoot":""}